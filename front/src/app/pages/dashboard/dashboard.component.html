<div class="container-fluid">
  <div class="row top-section">
    <div class="col-md-2 col-sm-4 col-xs-6" *ngFor="let type of types">
      <app-stats [type]="type"></app-stats>
    </div>
    <div class="col-md-2 col-sm-4 col-xs-6">
      <app-stats-circle [title]="'Alertas'" [count]="statsAlerts"></app-stats-circle>
    </div>
    <div class="col-md-2 col-sm-4 col-xs-6">
      <app-stats-circle [title]="'Secciones'" [count]="statsApps"></app-stats-circle>
    </div>
  </div>
  <ng-container *ngIf="affectedClients.length > 0">
    <div class="row">
      <div class="col-lg-2.5 col-md-3 col-sm-12 tree-container" *ngFor=" let affectedClient of newAffectedClients">
        <app-tree *ngIf="affectedClients" [clients]="affectedClient"></app-tree>
      </div>
      <div class="offset-lg-2.5 offset-md-3 col-md-9 col-lg-9 cards-container">
        <div class="row" id="clients">
          <div class="col-md-12 col-sm-12 " id="client-affected-cards">
            <div class="row">
              <div class="col-md-4" *ngFor="let client of affectedClientTypes">
                <app-client-status [client]="client"></app-client-status>
              </div>
            </div>
          </div>
          <div class="col-md-12 col-sm-12 col-xs-12" id="reports-container">
            <div class="row">
              <div id="title-reportes">
                Reportes
              </div>
              <div class="col-md-2 col-sm-4 col-xs-6" *ngFor="let type of reportsType" id="report-icon">
                <app-report [type]="type" (click)="detail(type.name)"></app-report>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-container>

<div *ngIf="affectedClients.length === 0">
    <div class="col-md-12 col-sm-12 col-xs-12" id="reports-container">
        <div class="row">
          <div id="title-reportes">
            Reportes
          </div>
          <div class="col-md-2 col-sm-4 col-xs-6" *ngFor="let type of reportsType" id="report-icon">
            <app-report [type]="type" (click)="detail(type.name)"></app-report>
          </div>
        </div>
      </div>
</div>
  <!-- ver la mejor forma para validar si es que no hay errores en base de datos
       y en reportes para poder mostra la imagen de cafe de que todo esta bien 
       por el momento solo van aparecer vacia la informaciÃ³n
    <div class="row" *ngIf="statsAlerts === 0 && !isLoading">
    <div *ngIf="totalErrorReports === 0">
        <div class="col-md-12 all-clear">
            <mat-icon>local_cafe</mat-icon>
            <p>Todas las aplicaciones se encuentran funcionando correctamente {{totalErrorReports}}</p>
          </div>
    </div>
  </div> -->
</div>